<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../public/css/users.css" type="text/css">
</head>
<body>
    <%- include("./header",{showRecordDiv: true}); -%>
<main>
    <p id="title">ניהול משתמשים</p>
    <div id="users">
        <ul class="custom-list">
        <%for (let i = 0; i < users.length; i++) {%>
            <li>
            <div class="users" user-id=<%=users[i]._id%>>
                <i class="fa fa-user-circle"></i> 
                <button class="username" user-id=<%=users[i]._id%>><%=users[i].username%></button>
                <div id="update-user-container">
                    <button class="fa fa-trash update-user" id="delete-user" user-id=<%=users[i]._id%>></button>
                    <button class="fa fa-pencil update-user" id="edit-user"  user-id=<%=users[i]._id%>></button>
                    <button class="fa fa-caret-square-o-down update-user" id="details-user" user-id=<%=users[i]._id%>></button>
                    <div class="details-section">
                        <h3>User Details</h3>
                        <p><strong>address: </strong></br> <%=users[i].address%></p>
                        <p><strong>phone number: </strong></br> <%=users[i].phonenumber%></p>
                        <p><strong>is admim?:</strong>  <%=users[i].isAdmin%></p>
                    </div>  
                    <div class="update-section">
                        <h3>Update User</h3>
                        username:<input type="text" placeholder="Username" value="<%= users[i].username %>" id="username-input-<%= users[i]._id %>" >
                        password:<input type="text" placeholder="Password" value="<%= users[i].password %>" id="password-input-<%= users[i]._id %>" >
                        address:</address><input type="text" placeholder="Address" value="<%= users[i].address %>" id="address-input-<%= users[i]._id %>" >
                        phone number:<input type="text" placeholder="Phone Number" value="<%= users[i].phonenumber %>" id="phone-input-<%= users[i]._id %>">
                        <input type="checkbox" id="is-admin-input-<%= users[i]._id %>"  <%= users[i].isAdmin ? 'checked': '' %>> Is Admin?
                        <button type="submit" class="save-update" user-id="<%= users[i]._id %>">Save</button>
                </div>
            </div>  
            </li>  
        <%}%>  
        </ul>
    </div>
</main>
<%- include("./footer"); -%>

</body>
<script src="../public/scripts/user.js"></script>

</html>